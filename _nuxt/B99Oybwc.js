import{_ as w}from"./Duw4sYxp.js";import{k,f as b,l as R,u as T,c as C,g as D,h as E,i as h,o as _}from"./BwwwMzNf.js";import{u as x,q as A}from"./Dak_0_Xo.js";import{a as f,u as N}from"./BF1gjHge.js";var U={};const B={class:"prose"},q={__name:"[...slug]",async setup(I){let i,u;const c=k(),g=U.NITRO_PRESET==="static",{data:t}=([i,u]=b(async()=>x(`blog-${c.path}`,async()=>{try{return await A("blog").path(c.path).first()}catch{return null}})),i=await i,u(),i);if(t.value){if((t.value.draft===!0||t.value.path?.includes("/drafts/"))&&g)throw R({statusCode:404,statusMessage:"Page Not Found"});const l=t.value.head||t.value.meta?.head;if(l){const s=l,m=T(),v=m.public.baseURL||m.app?.baseURL||"https://mjkatgithub.github.io",y=s.meta||[],e={},o={},d=[];y.forEach(a=>{const r=a.property||a.name;if(r?.startsWith("og:")){const n=r.replace("og:","");e[n]=a.content}else if(r?.startsWith("twitter:")){const n=r.replace("twitter:","");o[n]=a.content}else if(r){const n=a.property?{property:a.property,content:a.content}:{name:a.name,content:a.content};d.push(n)}}),f({title:t.value.title||e.title||"",description:t.value.description||e.description||"",ogTitle:e.title||t.value.title||"",ogDescription:e.description||t.value.description||"",ogImage:e.image||"",ogUrl:e.url||`${v}${c.path}`,twitterTitle:o.title||e.title||t.value.title||"",twitterDescription:o.description||e.description||t.value.description||"",twitterImage:o.image||"",twitterCard:o.card||"summary"}),N({htmlAttrs:s.htmlAttrs||{},link:s.link||[],meta:d})}else f({title:t.value.title||"",description:t.value.description||""})}return(p,l)=>{const s=w;return _(),C("article",B,[h(t)?(_(),D(s,{key:0,value:h(t)},null,8,["value"])):E("",!0)])}}};export{q as default};
